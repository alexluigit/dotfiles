#!/bin/sh
# Preview script built for use with lf and fzf
fpath=$(sed "s|$VID_ICON|$VID_DIR|" <<< "$1")
fpath=$(sed "s|$PIC_ICON|$PIC_DIR|" <<< "$fpath")
fpath=$(sed "s|$DEV_VID_ICON|$DEV_VID_DIR|" <<< "$fpath")
fpath=$(sed "s|$AUDIO_ICON|$AUDIO_DIR|" <<< "$fpath")
fpath=$(sed "s|$NOTE_ICON|$NOTE_DIR|" <<< "$fpath")

LINES=30
case "$fpath" in
    *.png|*.jpg|*.jpeg|*.mkv|*.mp4|*.m4v) mediainfo "$fpath";;
    *.pdf) pdftotext "$fpath" -;;
    *.zip) zipinfo "$fpath";;
    *.tar.gz) tar -ztvf "$fpath";;
    *.tar.bz2) tar -jtvf "$fpath";;
    *.tar) tar -tvf "$fpath";;
    *.rar) unrar l "$fpath";;
    *.7z) 7z l "$fpath";;
    *) bat -p --color=always "$fpath";;
esac
