#!/usr/bin/env sh
. ~/.config/sxhkd/mappings
paste() {
  _paste() { xdotool keyup v key --clearmodifiers ctrl+"$1"v; }
  classes=("Alacritty" "ncmpcpp" "lfrun" "dropterm")
  [[ "${classes[@]}" == *"$(_focus_wclass)"* ]] && _paste shift+ || _paste
}
run_emacs() {
  wid=$(xdotool search --onlyvisible --class 'Emacs')
  [[ -n $wid ]] && xdotool windowactivate $wid || exec emacsclient -c
}
send_key() { xvkbd -xsendevent -text $1; }
_focus_wclass() { xprop -id `xdotool getwindowfocus` WM_CLASS | cut -d '"' -f 4; }

eval "${mappings[$@]}"
