#!/bin/sh
ICON=brave-cinhimbnkkaeohfgghhklpknlkffjgod-Default
info() { playerctl metadata --format '{{title}} - {{artist}}'; }

songnotify() {
  title=$(playerctl -p mpd metadata title)
  artist=$(playerctl -p mpd metadata artist)
  exec notify-send.py -i $ICON --replaces-process ncmpcpp "$title" "$artist" &
}

[[ "$1" == "info" ]] && info && exit
playerctl -p mpd $1 && songnotify
