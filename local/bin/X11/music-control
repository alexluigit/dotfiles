#!/bin/zsh
info() {
  songInfo="$(playerctl metadata --format '{{title}} - {{artist}}')"
  echo "${songInfo%%(VEVO| - Topic)}"
}

songnotify() {
  title=$(playerctl metadata title)
  artist=$(playerctl metadata artist)
  notify=$(notify-send.py -i youtube -a youtube --replaces-process youtube "$title" "$artist")
  return
}

[[ "$1" == "info" ]] && info && exit
[[ "$#" == 1 ]] && playerctl $1 && songnotify
[[ "$#" == 2 ]] && playerctl $1 $2
