#!/usr/bin/env bash
focus_emacs() { [[ $(xdotool getwindowname `xdotool getwindowfocus`) == *"GNU Emacs at $HOSTNAME" ]]; }
wm_down() { awesome-client 'require("awful").client.focus.byidx(1)'; }
wm_up() { awesome-client 'require("awful").client.focus.byidx(-1)'; }
wm_close() { xdo close; }

emacs_down() { emacsclient -e '(windmove-down)' || emacsclient -e '(windmove-right)' || xmonad_cmd; }
emacs_up() { emacsclient -e '(windmove-up)' || emacsclient -e '(windmove-left)' || xmonad_cmd; }
emacs_close() { emacsclient -e '(ace/simple-kill-buffer-current)'; }

$(focus_emacs) && eval "emacs_$1" || eval "wm_$1"
