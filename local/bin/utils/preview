#!/bin/zsh
# Preview script built for use with lf and fzf
. $ZDOTDIR/user/dirs.zsh
fpath=$(eval "$PREVIEW_FOPEN[@]")
LINES=30
case "$fpath" in
    *.png|*.jpg|*.jpeg|*.mkv|*.mp4|*.m4v) mediainfo "$fpath";;
    *.pdf) pdftotext "$fpath" -;;
    *.zip) zipinfo "$fpath";;
    *.tar.gz) tar -ztvf "$fpath";;
    *.tar.bz2) tar -jtvf "$fpath";;
    *.tar) tar -tvf "$fpath";;
    *.rar) unrar l "$fpath";;
    *.7z) 7z l "$fpath";;
    *) bat -p --color=always "$fpath";;
esac
