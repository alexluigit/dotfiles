#!/bin/sh
REPODIR="$HOME/Dev/alex.files"
CFGDIR="$HOME/.config"
BINDIR="$HOME/.local/bin"

checkdir() {
  echo "Current    Directory: $PWD"
  echo "Repository Directory: $REPODIR"
  [[ ! -d $CFGDIR ]] && mkdir $CFGDIR || echo "$HOME/.config exists"
}

config() {
  for i in $(du -d 1 "$REPODIR/config" | cut -f2)
    do ln -sf "$i" "$CFGDIR"
  done
  rm $CFGDIR/config
  ln -sf $CFGDIR/ssh ~/.ssh
  ln -sf $CFGDIR/zsh/plugins/fzf $CFGDIR/nvim/pack/bundle/opt/fzf
}

bin() {
  for i in $(find "$REPODIR/local/bin" -type f -executable)
    do ln -sf $i $BINDIR
  done
  __apps
}

zshenv() {
  sudo ln -sf $REPODIR/config/zsh/zshenv /etc/zsh/zshenv
}

assets() {
  ln -sf $REPODIR/local/share/assets ~/.local/share/assets
}

__apps() {
  ln -sf $REPODIR/local/apps/rime ~/.local/share/fcitx5/rime
  ln -sf $REPODIR/local/share/applications ~/.local/share
  ln -sf $REPODIR/config/mimeapps.list $CFGDIR/mimeapps.list
}

"$@"
# git submodule init && git submodule update && echo "Done."
