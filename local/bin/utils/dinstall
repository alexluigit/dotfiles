#!/bin/sh
REPODIR="$HOME/Dev/Alex.files"
CFGDIR="$HOME/.config"
BINDIR="$HOME/.local/bin"

checkdir() {
  echo "Current    Directory: $PWD"
  echo "Repository Directory: $REPODIR"
  [[ ! -d $CFGDIR ]] && mkdir $CFGDIR || echo "$HOME/.config exists"
}

config() {
  for i in $(du -d 1 "$REPODIR/config" | cut -f2)
    do ln -sf "$i" "$CFGDIR"
  done
  rm $CFGDIR/config
}

bin() {
  for i in $(find "$REPODIR/local/bin" -type f -executable)
    do ln -sf $i $BINDIR
  done
  __apps
}

zshenv() {
  ln -sf $REPODIR/config/zsh/zshenv $HOME/.zshenv
}

assets() {
  ln -sf $REPODIR/local/share/assets ~/.local/share/assets
}

__apps() {
  for i in $(du -d 1 "$REPODIR/local/apps" | cut -f2)
    do ln -sf "$i" "$BINDIR"
  done
  rm $BINDIR/apps
  ln -sf $REPODIR/local/share/applications ~/.local/share/applications
  ln -sf $REPODIR/config/mimeapps.list $CFGDIR/mimeapps.list
}

"$@"
# git submodule init && git submodule update && echo "Done."
